<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Fetch</title>
	<!-- Bootstrap CSS (Version 5.3.0) fundamental styling and components  -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

	<!-- Bootstrap Icons Library (Version 1.11.1) -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

	<!-- Prism Code Highlighter - Light Theme (Version 1.23.0) -->
	<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism.min.css"> -->

	<!-- Prism Code Highlighter - Dark Theme (Version 1.0.0) -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prism-theme-one-dark@1.0.0/prism-onedark.min.css">

	<!-- Custom CSS Styles -->
	<style>
		.nav-background {
			background: #1a2a6c;
			background: -webkit-linear-gradient(to right, #fdbb2d, #b21f1f, #1a2a6c);
			background: linear-gradient(to right, #fdbb2d, #b21f1f, #1a2a6c) !important;
		}
	</style>
</head>

<body>
	<header>
		<nav class="navbar  p-2 nav-background mb-1">
			<div class="container-fluid nav justify-content-center">
				<p class="h1 text-white">Fetch</p>
			</div>
		</nav>
		<button type="button" class="btn btn-link position-fixed bottom-0 end-0 btn-lg px-1"
			style="z-index: 100; filter: drop-shadow(1px 1px 1px #000000);">
			<a href="#top"><i class="bi bi-airplane-engines-fill plane-color" style="color: darkorange"></i></a>
		</button>
	</header>

	<main>
		<div class="container-fluid">
			<p><b class="text-danger">Question: </b>Read the countries API using fetch and print the name of country, capital,
				 population and area.</p>
		</div>
		<div class="container mb-2" id="">
			<!-- <p class="h4 text-danger">Usisng promise</p> -->
			<div class="container bg-secondary bg-opacity-25 p-1 rounded mb-3 position-relative">
				<p class="h5">Using promise</p>
				<button id="copy-button-1" class="btn btn-link position-absolute top-0 end-0 p-0 mt-1 me-3"
					onclick="copyToClipboard(1)">
					<i class="bi bi-clipboard"></i>
				</button>
				<pre class="rounded" style="max-height: 350px;"
					id="code-block-1"><code class="language-javascript">&lt;script&gt;
document.getElementById('promiserun').addEventListener('click', () =&gt; {
	const url = 'https://restcountries.com/v2/all';
	fetch(url)
	.then((response) =&gt; {
		if (!response.ok) {
			throw new Error(`Can Not Fetch Data1`);
		} else {
			return response.json();
		}
	}).then(data =&gt; {
		for (let i = 0; i &lt;= 2; i++) {
			document.getElementById('output-1').innerHTML += (`
			Country: ${data[i].name},
			Capital: ${data[i].capital},
			Population: ${data[i].population},
			Area: ${data[i].area}&lt;br&gt;`);
		}
	}).catch(error =&gt; {
		document.getElementById('output-1').innerHTML += (error);
	})
});
&lt;/script&gt;</code></pre>
				<button class="btn btn-warning fw-bold" id="promiserun">Run code</button>

				<div class="container bg-light rounded mt-1 ">
					<p id="output-1"></p>
				</div>
			</div>



			<div class="container bg-secondary bg-opacity-25 p-1 rounded mb-1 position-relative">
				<p class="h5">Using Async Await</p>
				<button id="copy-button-2" class="btn btn-link position-absolute top-0 end-0 p-0 mt-1 me-3"
					onclick="copyToClipboard(2)">
					<i class="bi bi-clipboard"></i>
				</button>
				<pre class="rounded" style="max-height: 350px;"
					id="code-block-2"><code class="language-javascript">&lt;script&gt;
document.getElementById('asyncrun').addEventListener('click', () =&gt; {
const fetchdata = async () =&gt; {
	try {
		const url = 'https://restcountries.com/v2/all';
		const response = await fetch(url);
		const countries = await response.json();
		for (let i = 0; i &lt;= 2; i++) {
			document.getElementById('output-2').innerHTML += (`
			Country: ${countries[i].name},
			Capital: ${countries[i].capital},
			Population: ${countries[i].population},
			Area: ${countries[i].area}&lt;br&gt;`);
		}
	} catch (error) {
		document.getElementById('output-2').innerHTML += (error);
	}
}
fetchdata();
});
&lt;/script&gt;</code></pre>
				<button class="btn btn-warning fw-bold" id="asyncrun">Run code</button>

				<div class="container bg-light rounded mt-1 ">
					<p id="output-2"></p>
				</div>
			</div>
		</div>
	</main>





	<footer>
		<script>
			document.getElementById('promiserun').addEventListener('click', () => {
				const url = 'https://restcountries.com/v2/all';
				fetch(url)
				.then((response) => {
					if (!response.ok) {
						throw new Error(`Can Not Fetch Data1`);
					} else {
						return response.json();
					}
				}).then(data => {
					for (let i = 0; i <= 2; i++) {
						document.getElementById('output-1').innerHTML += (`
						Country: ${data[i].name},
						Capital: ${data[i].capital},
						Population: ${data[i].population},
						Area: ${data[i].area}<br>`);
					}
				}).catch(error => {
					document.getElementById('output-1').innerHTML += (error);
				})
			});
				


			document.getElementById('asyncrun').addEventListener('click', () => {
			const fetchdata = async () => {
				try {
					const url = 'https://restcountries.com/v2/all';
					const response = await fetch(url);
					const countries = await response.json();
					for (let i = 0; i <= 2; i++) {
						document.getElementById('output-2').innerHTML += (`
						Country: ${countries[i].name},
						Capital: ${countries[i].capital},
						Population: ${countries[i].population},
						Area: ${countries[i].area}<br>`);
					}
				} catch (error) {
					document.getElementById('output-2').innerHTML += (error);
				}
			}
			fetchdata();
			});
		</script>



		<script>
			// Function to copy text to the clipboard
			function copyToClipboard(buttonNumber) {
				const codeBlock = document.getElementById("code-block-" + buttonNumber);
				const textToCopy = codeBlock.textContent;

				const textArea = document.createElement("textarea");
				textArea.value = textToCopy;
				document.body.appendChild(textArea);

				textArea.select();
				document.execCommand("copy");

				document.body.removeChild(textArea);

				const copyButton = document.getElementById("copy-button-" + buttonNumber);
				copyButton.innerHTML = `<i class="bi bi-clipboard-check-fill"></i>`;
				setTimeout(function () {
					copyButton.innerHTML = `<i class="bi bi-clipboard"></i>`;
				}, 2000); // Reset the button text after 2 seconds
			}
		</script>

		<!-- Include Prism.js library -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/prism.min.js"></script>

		<!-- Include Prism.js language specific library (for JavaScript) -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-javascript.min.js"></script>

		<!-- Apply Prism to highlight all code blocks on the page -->
		<script>Prism.highlightAll();</script>
	</footer>
</body>

</html>